{% set page_style="program" %}
{% extends "_base_page.html" %}
{% block page_content %}
<h2>Program Barcampu</h2>
<h3>Pátek 14.6.2013</h3>
<a href="/stranka/warmup/">Warm-up párty s přednáškou Honzy Řezáče</a>

<h3>Sobota 15.6.2013</h3>
<table class="table table-condensed">
<tr>
    <th></th>
    <th style="text-align: center">D105</th>
    <th style="text-align: center">E112</th>
    <th style="text-align: center">D0206</th>
    <th style="text-align: center">D0207</th>
    <th style="text-align: center">E104</th>
</tr>
<tr>
    <th></th>
    <th style="text-align: center">Michal Holub</th>
    <th style="text-align: center">Martin Kopta</th>
    <th style="text-align: center">Julie Haladová</th>
    <th style="text-align: center">Aleš Vrána</th>
    <th style="text-align: center">Luboš Louženský</th>
</tr>
{% for t in times %}
<tr class="{{'success' if not t.data.items}}">
    <th>{{t.block_from}}&mdash;{{t.block_to}}</th>
    {% if t.data.items %}
        {{format_talk_td(t.data.d105)}}
        {{format_talk_td(t.data.e112)}}
        {{format_talk_td(t.data.d0206)}}
        {{format_talk_td(t.data.d0207)}}
        {{format_talk_td(t.data.e105)}}
    {% else %}
        <td colspan="5" style="text-align: center; vertical-align: middle">{{t.data}}</td>
    {% endif %}
</tr>
{% endfor %}
<tr class="warning">
    <th>19:00&mdash;23:59</th>
    <td colspan="5" style="text-align: center; vertical-align:middle"><a href="/stranka/afterparty/">Kentico Afterpárty</a></td>
</tr>
</table>
{% endblock %}
{% macro format_talk_td(hash) -%}
{% if hash %}
<td style="text-align: center">
    <p>
        <strong>{{talks[hash].user.name}}</strong><br />
        <small><a href="{{url_for('talk_detail', talk_hash=hash)}}">{{talks[hash].title|truncate(64)}}</a></small>
    </p>
</td>
{% else %}
<td style="vertical-align: middle; text-align: center;">&mdash;</td>
{% endif %}
{%- endmacro %}
